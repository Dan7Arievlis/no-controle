[gd_scene load_steps=14 format=4 uid="uid://v61712gtq7h3"]

[ext_resource type="Script" path="res://scripts/levels/TestLevel.gd" id="1_c6sx4"]
[ext_resource type="Material" uid="uid://nr1aonkdhljc" path="res://materials/color_change_material.tres" id="2_505a8"]
[ext_resource type="TileSet" uid="uid://chlp3otlj0044" path="res://resources/tilesets/base_tile_set.tres" id="2_phvyw"]
[ext_resource type="PackedScene" uid="uid://dldwdaspvcq0w" path="res://scenes/entities/player.tscn" id="4_7hjwl"]
[ext_resource type="TileSet" uid="uid://3ls8bo8my2y1" path="res://resources/tilesets/one_way_platforms_tile_set.tres" id="4_761at"]
[ext_resource type="PackedScene" uid="uid://bd1jkgc6dl7v8" path="res://scenes/levels/components/camera_follow.tscn" id="4_hb07s"]
[ext_resource type="Script" path="res://scripts/levels/components/OneWayPlatformsSpawner.gd" id="5_eqde4"]
[ext_resource type="PackedScene" uid="uid://c8kcmwwko2dpd" path="res://scenes/components/moving_platform.tscn" id="6_gs6h0"]
[ext_resource type="PackedScene" uid="uid://b65lkrhnqfxxd" path="res://scenes/menus/old_pause_menu.tscn" id="6_rukbu"]
[ext_resource type="PackedScene" uid="uid://dr1om0eg75s8l" path="res://scenes/entities/walking_enemy.tscn" id="6_uk50j"]
[ext_resource type="TileSet" uid="uid://b3sxykajd0y5s" path="res://resources/tilesets/spikes_tile_set.tres" id="7_3sc4x"]
[ext_resource type="PackedScene" uid="uid://dnu5tny4kcs4y" path="res://scenes/entities/shooting_enemy.tscn" id="7_5ud01"]

[sub_resource type="Curve2D" id="Curve2D_uyc1i"]
_data = {
"points": PackedVector2Array(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 160, 0, 0, 0, 0, 54, 160)
}
point_count = 3

[node name="EnemyTestLevel" type="Node2D"]
script = ExtResource("1_c6sx4")

[node name="Camera2D" type="Camera2D" parent="."]
position = Vector2(1, -5)
zoom = Vector2(4, 4)
metadata/_edit_group_ = true
metadata/_edit_lock_ = true

[node name="ColorRect" type="ColorRect" parent="Camera2D"]
offset_left = -576.0
offset_top = -324.0
offset_right = 576.0
offset_bottom = 325.0

[node name="Control" type="Control" parent="."]
layout_mode = 3
anchors_preset = 0
offset_right = 40.0
offset_bottom = 40.0

[node name="TileMap" type="Node2D" parent="."]
material = ExtResource("2_505a8")

[node name="base" type="TileMapLayer" parent="TileMap" groups=["Terrain"]]
use_parent_material = true
tile_map_data = PackedByteArray("AADu/wYAAAACAAIAAADv/wYAAAACAAIAAADv/wcAAAACAAIAAADu/wcAAAACAAIAAADt/wcAAAACAAIAAADt/wYAAAACAAIAAADt/wUAAAACAAIAAADu/wUAAAACAAIAAADw/wYAAAACAAIAAADw/wcAAAACAAIAAADx/wYAAAACAAIAAADx/wcAAAACAAIAAADy/wYAAAACAAIAAADy/wcAAAACAAIAAADz/wYAAAACAAIAAADz/wcAAAACAAIAAADz/wUAAAACAAAAAAD0/wYAAAACAAIAAAD0/wcAAAACAAIAAAD0/wUAAAACAAAAAAD1/wYAAAACAAIAAAD1/wcAAAACAAIAAAD1/wUAAAACAAAAAAD2/wYAAAACAAIAAAD2/wcAAAACAAIAAAD2/wUAAAACAAAAAAD3/wYAAAACAAIAAAD3/wcAAAACAAIAAAD3/wUAAAACAAAAAAD4/wYAAAACAAIAAAD4/wcAAAACAAIAAAD4/wUAAAACAAAAAAACAAYAAAACAAIAAAACAAcAAAACAAIAAAACAAUAAAAKAAAAAAADAAYAAAACAAIAAAADAAcAAAACAAIAAAADAAUAAAACAAIAAAAEAAYAAAACAAIAAAAEAAcAAAACAAIAAAAFAAYAAAACAAIAAAAFAAcAAAACAAIAAAAFAAUAAAACAAAAAAAGAAYAAAACAAIAAAAGAAcAAAACAAIAAAAGAAUAAAACAAAAAAAHAAYAAAACAAIAAAAHAAcAAAACAAIAAAAHAAUAAAACAAAAAAAIAAYAAAACAAIAAAAIAAcAAAACAAIAAAAIAAUAAAACAAAAAAAJAAYAAAACAAIAAAAJAAcAAAACAAIAAAAJAAUAAAACAAAAAAAKAAYAAAACAAIAAAAKAAcAAAACAAIAAAAKAAUAAAACAAAAAAALAAYAAAACAAIAAAALAAcAAAACAAIAAAALAAUAAAAKAAAAAAAMAAYAAAACAAIAAAAMAAcAAAACAAIAAAAMAAUAAAACAAIAAAANAAYAAAACAAIAAAANAAcAAAACAAIAAAANAAUAAAADAAIAAAAOAAYAAAACAAIAAAAOAAcAAAACAAIAAAAOAAUAAAACAAAAAAAPAAYAAAACAAIAAAAPAAcAAAACAAIAAAAPAAUAAAACAAAAAAAQAAYAAAACAAIAAAAQAAcAAAACAAIAAAAQAAUAAAACAAAAAAARAAYAAAACAAIAAAARAAcAAAACAAIAAAARAAUAAAAKAAAAAAASAAYAAAACAAIAAAASAAcAAAACAAIAAAASAAUAAAACAAIAAADt/wIAAAACAAIAAADu/wIAAAACAAIAAADv/wIAAAADAAIAAADt/wEAAAACAAIAAADu/wEAAAACAAIAAADv/wEAAAADAAIAAADu/wAAAAACAAIAAADt////AAACAAIAAADu////AAACAAIAAADt//7/AAACAAIAAADu//7/AAACAAIAAADt//3/AAACAAIAAADu//3/AAACAAIAAADv//3/AAADAAIAAADt//z/AAACAAIAAADu//z/AAACAAIAAADv//z/AAAIAAIAAADt//v/AAACAAIAAADu//v/AAACAAIAAADv//v/AAACAAIAAADt//r/AAACAAIAAADu//r/AAACAAIAAADv//r/AAAIAAAAAADw//v/AAACAAIAAADw//z/AAACAAMAAADw//r/AAACAAAAAADx//v/AAACAAIAAADx//z/AAACAAMAAADx//r/AAACAAAAAADy//v/AAACAAIAAADy//z/AAACAAMAAADy//r/AAACAAAAAADz//v/AAACAAIAAADz//z/AAACAAMAAADz//r/AAACAAAAAAD0//v/AAACAAIAAAD0//z/AAAKAAIAAAD0//r/AAACAAAAAAD1//v/AAACAAIAAAD1//z/AAACAAIAAAD1//r/AAACAAAAAAD2//v/AAADAAIAAAD2//z/AAADAAIAAAD2//r/AAADAAAAAAAGAPn/AAACAAIAAAAHAPn/AAADAAIAAAAHAPr/AAADAAIAAAAGAPr/AAACAAIAAAAFAPr/AAAKAAAAAAAFAPn/AAABAAIAAAAFAPj/AAAAAAAAAAAGAPj/AAACAAAAAAAHAPj/AAADAAAAAAAHAPv/AAADAAIAAAAGAPv/AAACAAIAAAAFAPv/AAACAAIAAAAHAPz/AAADAAMAAAAGAPz/AAACAAMAAAAFAPz/AAACAAMAAAD9//v/AAACAAIAAAD+//v/AAACAAIAAAD+//z/AAACAAMAAAD9//z/AAACAAMAAAD8//z/AAABAAMAAAD8//v/AAABAAIAAAD8//r/AAAAAAAAAAD9//r/AAACAAAAAAD+//r/AAACAAAAAAD///v/AAACAAIAAAD///z/AAACAAMAAAD///r/AAACAAAAAAAAAPv/AAACAAIAAAAAAPz/AAACAAMAAAAAAPr/AAACAAAAAAABAPv/AAACAAIAAAABAPz/AAACAAMAAAABAPr/AAACAAAAAAACAPv/AAACAAIAAAACAPz/AAACAAMAAAACAPr/AAACAAAAAAADAPv/AAACAAIAAAADAPz/AAACAAMAAAADAPr/AAACAAAAAAAEAPv/AAACAAIAAAAEAPz/AAACAAMAAAAEAPr/AAACAAAAAAAMAAQAAAACAAIAAAANAAQAAAADAAIAAAALAAQAAAABAAIAAAALAAMAAAAAAAAAAAAMAAMAAAACAAAAAAANAAMAAAADAAAAAAD+/wcAAAACAAIAAAD+/wYAAAACAAIAAAD9/wcAAAACAAIAAAD9/wYAAAACAAIAAAD8/wcAAAACAAIAAAD8/wYAAAACAAIAAAD7/wcAAAACAAIAAAD7/wYAAAACAAIAAAD6/wcAAAACAAIAAAD6/wYAAAACAAIAAAD5/wcAAAACAAIAAAD5/wYAAAACAAIAAAD5/wUAAAACAAAAAAD6/wUAAAACAAAAAAD7/wUAAAACAAAAAAD8/wUAAAACAAAAAAD9/wUAAAACAAAAAAD+/wUAAAACAAAAAAABAAYAAAACAAIAAAABAAcAAAACAAIAAAAAAAcAAAACAAIAAAAAAAYAAAACAAIAAAAAAAUAAAACAAAAAAABAAUAAAACAAAAAAD//wcAAAACAAIAAAD//wYAAAACAAIAAAD//wUAAAACAAAAAAD2//3/AAADAAIAAAD1//3/AAACAAIAAAD0//3/AAABAAIAAAD2//7/AAADAAIAAAD1//7/AAACAAIAAAD0//7/AAABAAIAAAD2////AAADAAIAAAD1////AAACAAIAAAD0////AAABAAIAAAD2/wAAAAADAAIAAAD1/wAAAAACAAIAAAD0/wAAAAABAAIAAAD2/wEAAAADAAIAAAD1/wEAAAACAAIAAAD0/wEAAAABAAIAAAD2/wIAAAADAAMAAAD1/wIAAAACAAMAAAD0/wIAAAABAAMAAADv//7/AAADAAIAAADv////AAAMAAAAAAD7/wEAAAABAAMAAAAFAP//AAACAAIAAAAGAP//AAACAAIAAAAGAAAAAAACAAMAAAAFAAAAAAACAAMAAAAEAAAAAAABAAMAAAAEAP//AAABAAIAAAAEAP7/AAAAAAAAAAAFAP7/AAACAAAAAAAGAP7/AAACAAAAAAAHAP//AAACAAIAAAAHAAAAAAACAAMAAAAHAP7/AAACAAAAAAAIAP//AAACAAIAAAAIAAAAAAACAAMAAAAIAP7/AAACAAAAAAAJAP//AAADAAIAAAAJAAAAAAADAAMAAAAJAP7/AAADAAAAAAATAAYAAAACAAIAAAATAAcAAAACAAIAAAATAAUAAAACAAIAAAASAAQAAAACAAIAAAATAAQAAAACAAIAAAARAAQAAAABAAIAAAARAAMAAAABAAIAAAASAAMAAAACAAIAAAATAAMAAAACAAIAAAARAAIAAAABAAIAAAASAAIAAAACAAIAAAATAAIAAAACAAIAAAARAAEAAAABAAIAAAASAAEAAAACAAIAAAATAAEAAAACAAIAAAARAAAAAAABAAIAAAASAAAAAAACAAIAAAATAAAAAAACAAIAAAARAP//AAABAAIAAAASAP//AAACAAIAAAATAP//AAACAAIAAAARAP7/AAABAAIAAAASAP7/AAACAAIAAAATAP7/AAACAAIAAAARAP3/AAABAAIAAAASAP3/AAACAAIAAAATAP3/AAACAAIAAAARAPz/AAABAAIAAAASAPz/AAACAAIAAAATAPz/AAACAAIAAAARAPv/AAABAAIAAAASAPv/AAACAAIAAAATAPv/AAACAAIAAAARAPr/AAABAAIAAAASAPr/AAACAAIAAAATAPr/AAACAAIAAAARAPn/AAABAAIAAAASAPn/AAACAAIAAAATAPn/AAACAAIAAAARAPj/AAABAAIAAAASAPj/AAACAAIAAAATAPj/AAACAAIAAAARAPf/AAABAAIAAAASAPf/AAACAAIAAAATAPf/AAACAAIAAAARAPb/AAABAAIAAAASAPb/AAACAAIAAAATAPb/AAACAAIAAAASAPX/AAACAAIAAAATAPX/AAACAAIAAAARAPX/AAABAAIAAAARAPT/AAABAAIAAAASAPT/AAACAAIAAAATAPT/AAACAAIAAAASAPP/AAACAAIAAAATAPP/AAACAAIAAADt//n/AAACAAIAAADu//n/AAACAAIAAADv//n/AAADAAIAAADt//j/AAACAAIAAADu//j/AAACAAIAAADv//j/AAADAAIAAADt//f/AAACAAIAAADu//f/AAACAAIAAADv//f/AAADAAIAAADt//b/AAACAAIAAADu//b/AAACAAIAAADt//X/AAACAAIAAADu//X/AAACAAIAAADu//T/AAACAAIAAADu//P/AAACAAIAAADv//P/AAADAAIAAADt//T/AAACAAIAAADt//P/AAACAAIAAADt//L/AAACAAIAAADu//L/AAACAAIAAADv//L/AAAIAAIAAADt//H/AAACAAIAAADu//H/AAACAAIAAADv//H/AAACAAIAAADt//D/AAACAAIAAADu//D/AAACAAIAAADv//D/AAACAAIAAADw//H/AAACAAIAAADw//D/AAACAAIAAADw//L/AAACAAMAAADx//H/AAACAAIAAADx//L/AAACAAMAAADx//D/AAACAAIAAADy//H/AAACAAIAAADy//L/AAACAAMAAADy//D/AAACAAIAAADz//H/AAACAAIAAADz//L/AAACAAMAAADz//D/AAACAAIAAADv//T/AAADAAIAAADv//X/AAADAAIAAADv//b/AAADAAIAAAASAPL/AAACAAIAAAATAPL/AAACAAIAAAARAPH/AAACAAIAAAASAPH/AAACAAIAAAATAPH/AAACAAIAAAAQAPH/AAACAAIAAAAPAPH/AAACAAIAAAAOAPH/AAACAAIAAAANAPH/AAACAAIAAAAMAPH/AAACAAIAAAALAPH/AAACAAIAAAAKAPH/AAACAAIAAAAJAPH/AAACAAIAAAAEAPH/AAACAAIAAAAEAPD/AAACAAIAAAAFAPH/AAACAAIAAAAFAPD/AAACAAIAAAAGAPH/AAACAAIAAAAGAPD/AAACAAIAAAAHAPH/AAACAAIAAAAHAPD/AAACAAIAAAAIAPH/AAACAAIAAAAIAPD/AAACAAIAAAAJAPD/AAACAAIAAAAKAPD/AAACAAIAAAALAPD/AAACAAIAAAAMAPD/AAACAAIAAAANAPD/AAACAAIAAAAOAPD/AAACAAIAAAAPAPD/AAACAAIAAAAQAPD/AAACAAIAAAARAPD/AAACAAIAAAASAPD/AAACAAIAAAATAPD/AAACAAIAAAARAPL/AAAKAAIAAAAQAPL/AAACAAMAAAAPAPL/AAACAAMAAAAOAPL/AAACAAMAAAANAPL/AAACAAMAAAAMAPL/AAACAAMAAAALAPL/AAACAAMAAAAKAPL/AAACAAMAAAAJAPL/AAACAAMAAAAIAPL/AAACAAMAAAAHAPL/AAACAAMAAAAGAPL/AAACAAMAAAAFAPL/AAACAAMAAAAEAPL/AAACAAMAAAARAPP/AAABAAIAAAD0//D/AAACAAIAAAD0//H/AAACAAIAAAD0//L/AAACAAMAAAD1//D/AAACAAIAAAD1//H/AAACAAIAAAD1//L/AAACAAMAAAD2//D/AAACAAIAAAD2//H/AAACAAIAAAD2//L/AAACAAMAAAD3//D/AAACAAIAAAD3//H/AAACAAIAAAD3//L/AAACAAMAAAD4//D/AAACAAIAAAD4//H/AAACAAIAAAD4//L/AAACAAMAAAD5//D/AAACAAIAAAD5//H/AAACAAIAAAD5//L/AAACAAMAAAD6//D/AAACAAIAAAD6//H/AAACAAIAAAD6//L/AAACAAMAAAD7//D/AAACAAIAAAD7//H/AAACAAIAAAD7//L/AAACAAMAAAD8//D/AAACAAIAAAD8//H/AAACAAIAAAD8//L/AAACAAMAAAD9//D/AAACAAIAAAD9//H/AAACAAIAAAD9//L/AAACAAMAAAD+//D/AAACAAIAAAD+//H/AAACAAIAAAD+//L/AAACAAMAAAD///D/AAACAAIAAAD///H/AAACAAIAAAD///L/AAACAAMAAAAAAPD/AAACAAIAAAAAAPH/AAACAAIAAAAAAPL/AAACAAMAAAABAPD/AAACAAIAAAABAPH/AAACAAIAAAABAPL/AAACAAMAAAACAPD/AAACAAIAAAACAPH/AAACAAIAAAACAPL/AAACAAMAAAADAPD/AAACAAIAAAADAPH/AAACAAIAAAADAPL/AAACAAMAAAANAP7/AAABAAMAAAAOAP7/AAADAAMAAAANAP3/AAAAAAAAAAAOAP3/AAADAAAAAAD8/wEAAAADAAMAAAD7/wAAAAAAAAAAAAD8/wAAAAADAAAAAAAEAAUAAAAIAAAAAAADAAQAAAACAAIAAAAEAAQAAAADAAIAAAACAAQAAAABAAIAAAACAAMAAAAAAAAAAAADAAMAAAACAAAAAAAEAAMAAAADAAAAAADw////AAAAAAQAAADx////AAADAAQAAADu/wQAAAACAAIAAADu/wMAAAACAAIAAADt/wQAAAACAAIAAADt/wMAAAACAAIAAADt/wAAAAACAAIAAADv/wMAAAADAAIAAADv/wQAAAADAAIAAADv/wUAAAAIAAAAAADw/wUAAAACAAAAAADx/wUAAAACAAAAAADy/wUAAAACAAAAAADv/wAAAAADAAIAAAACAAAAAAADAAQAAAABAAAAAAACAAQAAAAAAAAAAAAAAAQAAAANAPf/AAAGAAIAAAANAPj/AAAGAAMAAAANAPb/AAAFAAAAAAA=")
tile_set = ExtResource("2_phvyw")

[node name="one way" type="TileMapLayer" parent="TileMap" groups=["Terrain"]]
material = ExtResource("2_505a8")
use_parent_material = true
tile_map_data = PackedByteArray("AAD3////AAAKAAAAAAD4//b/AAAOAAAAAAD6//r/AAAAAAAAAAD7//r/AAACAAAAAAAMAPj/AAAOAAAAAAA=")
tile_set = ExtResource("4_761at")
script = ExtResource("5_eqde4")

[node name="spikes" type="TileMapLayer" parent="TileMap" groups=["Pogo", "Spikes"]]
tile_map_data = PackedByteArray("AAD7////AAACAAAAAAD8////AAACAAAAAAD6////AAAAAAAAAAD6/wAAAAAAAAIAAAD6/wEAAAAAAAIAAAD6/wIAAAAAAAMAAAD7/wIAAAACAAMAAAD8/wIAAAACAAMAAAD9/wIAAAADAAMAAAD9/wAAAAADAAIAAAD9/wEAAAADAAIAAAD9////AAADAAAAAAD//wQAAAACAAAAAAD+/wQAAAACAAAAAAD9/wQAAAACAAAAAAD8/wQAAAAFAAQAAAAAAAQAAAAGAAQAAAAAAAEAAAAHAAQAAAABAAEAAAACAAMAAAACAAEAAAAIAAQAAAACAP//AAAGAAQAAAAAAP//AAAFAAQAAAABAP//AAACAAAAAAA=")
tile_set = ExtResource("7_3sc4x")

[node name="MovingPlatform" parent="TileMap" instance=ExtResource("6_gs6h0")]
position = Vector2(308, -256)
curve = SubResource("Curve2D_uyc1i")

[node name="ClampCamera" type="Area2D" parent="TileMap"]
collision_layer = 16384
collision_mask = 0
input_pickable = false
monitoring = false

[node name="ViewBox" type="CollisionPolygon2D" parent="TileMap/ClampCamera"]
build_mode = 1
polygon = PackedVector2Array(-606, 255, -606, -498, 638, -498, 638, 255)

[node name="Player" parent="." instance=ExtResource("4_7hjwl")]
metadata/_edit_group_ = true

[node name="CameraFollow" parent="Player" instance=ExtResource("4_hb07s")]

[node name="PauseMenu" parent="." instance=ExtResource("6_rukbu")]

[node name="SpawnPoint" type="Node2D" parent="."]
position = Vector2(-475, -224)

[node name="WalkingEnemy" parent="." instance=ExtResource("6_uk50j")]
position = Vector2(-354, 143)

[node name="WalkingEnemy2" parent="." instance=ExtResource("6_uk50j")]
position = Vector2(-497, -53)

[node name="WalkingEnemy3" parent="." instance=ExtResource("6_uk50j")]
position = Vector2(188, 138)

[node name="WalkingEnemy4" parent="." instance=ExtResource("6_uk50j")]
position = Vector2(280, -78)

[node name="WalkingEnemy5" parent="." instance=ExtResource("6_uk50j")]
position = Vector2(0, -216)

[node name="ShootingEnemy" parent="." instance=ExtResource("7_5ud01")]
position = Vector2(210, -267)

[connection signal="camera_ready" from="Player/CameraFollow" to="Player" method="_on_camera_follow_camera_ready"]
