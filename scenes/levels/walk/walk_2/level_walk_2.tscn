[gd_scene load_steps=20 format=4 uid="uid://cgahdj1y1sab5"]

[ext_resource type="Script" path="res://scripts/levels/Level.gd" id="1_b376o"]
[ext_resource type="PackedScene" uid="uid://d5cyy80deyjo" path="res://scenes/levels/components/respawn_system.tscn" id="2_usk7j"]
[ext_resource type="Material" uid="uid://nr1aonkdhljc" path="res://materials/color_change_material.tres" id="4_fedmr"]
[ext_resource type="TileSet" uid="uid://chlp3otlj0044" path="res://resources/tilesets/base_tile_set.tres" id="5_i0hik"]
[ext_resource type="TileSet" uid="uid://3ls8bo8my2y1" path="res://resources/tilesets/one_way_platforms_tile_set.tres" id="6_7p6ou"]
[ext_resource type="Script" path="res://scripts/levels/components/OneWayPlatformsSpawner.gd" id="7_dexni"]
[ext_resource type="TileSet" uid="uid://b3sxykajd0y5s" path="res://resources/tilesets/spikes_tile_set.tres" id="8_oex3a"]
[ext_resource type="PackedScene" uid="uid://dldwdaspvcq0w" path="res://scenes/entities/player.tscn" id="10_jv2qi"]
[ext_resource type="PackedScene" uid="uid://bd1jkgc6dl7v8" path="res://scenes/levels/components/camera_follow.tscn" id="11_vpe77"]
[ext_resource type="PackedScene" uid="uid://cfdmv3tit4bya" path="res://scenes/levels/components/doorway.tscn" id="12_d02ny"]
[ext_resource type="Script" path="res://scenes/levels/walk/walk_2/Walk_2_menu.gd" id="13_3sxk4"]
[ext_resource type="PackedScene" uid="uid://di32xxa2m60xl" path="res://scenes/menus/pause_menu.tscn" id="13_hlc4a"]
[ext_resource type="Shader" path="res://materials/shaders/pause_menu.gdshader" id="14_6pxtp"]
[ext_resource type="PackedScene" uid="uid://nxiywfl7pggr" path="res://scenes/menus/death_menu.tscn" id="16_5co1d"]
[ext_resource type="PackedScene" uid="uid://go2uyf33ilo7" path="res://scenes/menus/win_menu.tscn" id="17_74ioq"]
[ext_resource type="PackedScene" uid="uid://cqdv1w1qdiu6k" path="res://scenes/components/hp_bar_ui.tscn" id="18_r15pl"]
[ext_resource type="Theme" uid="uid://ckhww1aw5ghp1" path="res://themes/font_theme_16px.tres" id="19_yj6v2"]
[ext_resource type="Material" uid="uid://ihjnwe4fo1dg" path="res://materials/color_change_filter.tres" id="20_6edl4"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_yxn5e"]
resource_local_to_scene = true
shader = ExtResource("14_6pxtp")
shader_parameter/overlay = Color(0, 0.115, 0.69, 1)

[node name="LevelWalk2" type="Node2D"]
script = ExtResource("1_b376o")

[node name="Camera2D" type="Camera2D" parent="."]
position = Vector2(1, -5)
zoom = Vector2(4, 4)
metadata/_edit_group_ = true
metadata/_edit_lock_ = true

[node name="ColorRect" type="ColorRect" parent="Camera2D"]
z_index = -3
offset_left = -576.0
offset_top = -324.0
offset_right = 576.0
offset_bottom = 325.0

[node name="RespawnSystem" parent="." instance=ExtResource("2_usk7j")]

[node name="InitialSpawn" parent="RespawnSystem" index="0"]
position = Vector2(-329, 14)

[node name="TileMap" type="Node2D" parent="."]
material = ExtResource("4_fedmr")

[node name="base" type="TileMapLayer" parent="TileMap" groups=["Terrain"]]
use_parent_material = true
tile_map_data = PackedByteArray("AADx//z/AAABAAIAAADx/wAAAAABAAIAAADx/wQAAAABAAIAAADx/wgAAAABAAIAAADx/wwAAAABAAIAAADx/xAAAAABAAIAAADx/xQAAAABAAIAAADy//z/AAACAAIAAADy/wAAAAACAAIAAADy/wQAAAACAAIAAADy/wgAAAACAAIAAADy/wwAAAACAAIAAADy/xAAAAACAAIAAADy/xQAAAACAAIAAADz//z/AAACAAIAAADz/wAAAAACAAIAAADz/wQAAAACAAIAAADz/wgAAAACAAIAAADz/wwAAAACAAIAAADz/xAAAAACAAIAAADz/xQAAAACAAIAAAD0//z/AAACAAIAAAD0/wAAAAADAAIAAAD0/wQAAAADAAIAAAD0/wgAAAADAAIAAAD0/wwAAAADAAIAAAD0/xAAAAADAAIAAAD0/xQAAAADAAIAAAD1//z/AAACAAIAAAD2//z/AAACAAIAAAD3//z/AAACAAIAAAD4//z/AAACAAIAAAD5//z/AAACAAIAAAD6//z/AAACAAIAAAD7//z/AAACAAIAAAD8//z/AAACAAIAAAD9//z/AAACAAIAAAD+//z/AAACAAIAAAD///z/AAACAAIAAAACAPr/AAACAAYAAAACAPv/AAACAAIAAAACAPz/AAACAAIAAAACAP3/AAACAAMAAAACAAEAAAACAAQAAAACAAUAAAACAAQAAAACAAkAAAACAAQAAAACAA0AAAACAAQAAAACABEAAAACAAQAAAADAPr/AAACAAYAAAADAPv/AAACAAIAAAADAPz/AAACAAIAAAADAP3/AAACAAMAAAADAAEAAAACAAQAAAADAAUAAAACAAQAAAADAAkAAAACAAQAAAADAA0AAAACAAQAAAADABEAAAACAAQAAAAEAPr/AAACAAYAAAAEAPv/AAACAAIAAAAEAPz/AAACAAIAAAAEAP3/AAACAAMAAAAEAAEAAAACAAQAAAAEAAUAAAACAAQAAAAEAAkAAAACAAQAAAAEAA0AAAACAAQAAAAEABEAAAACAAQAAAAFAPr/AAACAAYAAAAFAPv/AAACAAIAAAAFAPz/AAACAAIAAAAFAP3/AAACAAMAAAAFAAEAAAADAAQAAAAFAAUAAAACAAQAAAAFAAkAAAADAAQAAAAFAA0AAAACAAQAAAAFABEAAAADAAQAAADx//r/AAABAAYAAADx//v/AAABAAIAAADx//3/AAABAAIAAADx//7/AAABAAIAAADx////AAABAAIAAADx/wEAAAABAAIAAADx/wIAAAABAAIAAADx/wMAAAABAAIAAADx/wUAAAABAAIAAADx/wYAAAABAAIAAADx/wcAAAABAAIAAADx/wkAAAABAAIAAADx/woAAAABAAIAAADx/wsAAAABAAIAAADx/w0AAAABAAIAAADx/w4AAAABAAIAAADx/w8AAAABAAIAAADx/xEAAAABAAIAAADx/xIAAAABAAIAAADx/xMAAAABAAIAAADx/xUAAAABAAIAAADx/xYAAAABAAIAAADx/xcAAAABAAIAAADx/xgAAAABAAIAAADx/xkAAAABAAMAAADy//r/AAACAAYAAADy//v/AAACAAIAAADy//3/AAACAAIAAADy//7/AAACAAIAAADy////AAACAAIAAADy/wEAAAACAAIAAADy/wIAAAACAAIAAADy/wMAAAACAAIAAADy/wUAAAACAAIAAADy/wYAAAACAAIAAADy/wcAAAACAAIAAADy/wkAAAACAAIAAADy/woAAAACAAIAAADy/wsAAAACAAIAAADy/w0AAAACAAIAAADy/w4AAAACAAIAAADy/w8AAAACAAIAAADy/xEAAAACAAIAAADy/xIAAAACAAIAAADy/xMAAAACAAIAAADy/xUAAAACAAIAAADy/xYAAAACAAIAAADy/xcAAAACAAIAAADy/xgAAAACAAIAAADy/xkAAAACAAMAAADz//r/AAACAAYAAADz//v/AAACAAIAAADz//3/AAACAAIAAADz//7/AAACAAIAAADz////AAACAAIAAADz/wEAAAACAAIAAADz/wIAAAACAAIAAADz/wMAAAACAAIAAADz/wUAAAACAAIAAADz/wYAAAACAAIAAADz/wcAAAACAAIAAADz/wkAAAACAAIAAADz/woAAAACAAIAAADz/wsAAAACAAIAAADz/w0AAAACAAIAAADz/w4AAAACAAIAAADz/w8AAAACAAIAAADz/xEAAAACAAIAAADz/xIAAAACAAIAAADz/xMAAAACAAIAAADz/xUAAAACAAIAAADz/xYAAAACAAIAAADz/xcAAAACAAIAAADz/xgAAAACAAIAAADz/xkAAAACAAMAAAD0//r/AAACAAYAAAD0//v/AAACAAIAAAD0//3/AAAIAAIAAAD0//7/AAADAAIAAAD0////AAADAAIAAAD0/wEAAAAMAAAAAAD0/wIAAAADAAIAAAD0/wMAAAADAAIAAAD0/wUAAAADAAIAAAD0/wYAAAADAAIAAAD0/wcAAAADAAIAAAD0/wkAAAAMAAAAAAD0/woAAAADAAIAAAD0/wsAAAADAAIAAAD0/w0AAAADAAIAAAD0/w4AAAADAAIAAAD0/w8AAAADAAIAAAD0/xEAAAAMAAAAAAD0/xIAAAADAAIAAAD0/xMAAAADAAIAAAD0/xUAAAADAAIAAAD0/xYAAAADAAIAAAD0/xcAAAADAAIAAAD0/xgAAAADAAIAAAD0/xkAAAAMAAgAAAD1//r/AAACAAYAAAD1//v/AAACAAIAAAD1//3/AAACAAMAAAD1/wEAAAACAAQAAAD1/wkAAAACAAQAAAD1/xEAAAACAAQAAAD1/xkAAAACAAQAAAD2//r/AAACAAYAAAD2//v/AAACAAIAAAD2//3/AAACAAMAAAD2/wEAAAACAAQAAAD2/wkAAAACAAQAAAD2/xEAAAACAAQAAAD2/xkAAAACAAQAAAD3//r/AAACAAYAAAD3//v/AAACAAIAAAD3//3/AAACAAMAAAD3/wEAAAACAAQAAAD3/wUAAAAAAAQAAAD3/wkAAAACAAQAAAD3/w0AAAAAAAQAAAD3/xEAAAACAAQAAAD3/xUAAAAAAAQAAAD3/xkAAAACAAQAAAD4//r/AAACAAYAAAD4//v/AAACAAIAAAD4//3/AAACAAMAAAD4/wEAAAACAAQAAAD4/wUAAAACAAQAAAD4/wkAAAACAAQAAAD4/w0AAAACAAQAAAD4/xEAAAACAAQAAAD4/xUAAAACAAQAAAD4/xkAAAACAAQAAAD5//r/AAACAAYAAAD5//v/AAACAAIAAAD5//3/AAACAAMAAAD5/wEAAAACAAQAAAD5/wUAAAACAAQAAAD5/wkAAAACAAQAAAD5/w0AAAACAAQAAAD5/xEAAAACAAQAAAD5/xUAAAACAAQAAAD5/xkAAAACAAQAAAD6//r/AAACAAYAAAD6//v/AAACAAIAAAD6//3/AAACAAMAAAD6/wEAAAACAAQAAAD6/wUAAAACAAQAAAD6/wkAAAACAAQAAAD6/w0AAAACAAQAAAD6/xEAAAACAAQAAAD6/xUAAAACAAQAAAD6/xkAAAACAAQAAAD7//r/AAACAAYAAAD7//v/AAACAAIAAAD7//3/AAACAAMAAAD7/wEAAAACAAQAAAD7/wUAAAACAAQAAAD7/wkAAAACAAQAAAD7/w0AAAACAAQAAAD7/xEAAAACAAQAAAD7/xUAAAACAAQAAAD7/xkAAAACAAQAAAD8//r/AAACAAYAAAD8//v/AAACAAIAAAD8//3/AAACAAMAAAD8/wEAAAACAAQAAAD8/wUAAAACAAQAAAD8/wkAAAACAAQAAAD8/w0AAAACAAQAAAD8/xEAAAACAAQAAAD8/xUAAAACAAQAAAD8/xkAAAACAAQAAAD9//r/AAACAAYAAAD9//v/AAACAAIAAAD9//3/AAACAAMAAAD9/wEAAAACAAQAAAD9/wUAAAACAAQAAAD9/wkAAAACAAQAAAD9/w0AAAACAAQAAAD9/xEAAAACAAQAAAD9/xUAAAACAAQAAAD9/xkAAAACAAQAAAD+//r/AAACAAYAAAD+//v/AAACAAIAAAD+//3/AAACAAMAAAD+/wEAAAACAAQAAAD+/wUAAAACAAQAAAD+/wkAAAACAAQAAAD+/w0AAAACAAQAAAD+/xEAAAACAAQAAAD+/xUAAAACAAQAAAD+/xkAAAACAAQAAAD///r/AAACAAYAAAD///v/AAACAAIAAAD///3/AAACAAMAAAD//wEAAAACAAQAAAD//wUAAAACAAQAAAD//wkAAAACAAQAAAD//w0AAAACAAQAAAD//xEAAAACAAQAAAD//xUAAAACAAQAAAD//xkAAAACAAQAAAAAAPr/AAACAAYAAAAAAPv/AAACAAIAAAAAAPz/AAACAAIAAAAAAP3/AAACAAMAAAAAAAEAAAACAAQAAAAAAAUAAAACAAQAAAAAAAkAAAACAAQAAAAAAA0AAAACAAQAAAAAABEAAAACAAQAAAAAABUAAAACAAQAAAAAABkAAAACAAQAAAABAPr/AAACAAYAAAABAPv/AAACAAIAAAABAPz/AAACAAIAAAABAP3/AAACAAMAAAABAAEAAAACAAQAAAABAAUAAAACAAQAAAABAAkAAAACAAQAAAABAA0AAAACAAQAAAABABEAAAACAAQAAAABABUAAAACAAQAAAABABkAAAACAAQAAAACABUAAAACAAQAAAACABkAAAACAAQAAAADABUAAAACAAQAAAADABkAAAACAAQAAAAEABUAAAACAAQAAAAEABkAAAACAAQAAAAFABUAAAACAAQAAAAFABkAAAACAAQAAAAGAPr/AAACAAYAAAAGAPv/AAACAAIAAAAGAPz/AAACAAIAAAAGAP3/AAACAAMAAAAGAAUAAAACAAQAAAAGAA0AAAACAAQAAAAGABUAAAACAAQAAAAGABkAAAACAAQAAAAHAPr/AAACAAYAAAAHAPv/AAACAAIAAAAHAPz/AAACAAIAAAAHAP3/AAACAAMAAAAHAAUAAAACAAQAAAAHAA0AAAACAAQAAAAHABUAAAACAAQAAAAHABkAAAACAAQAAAAIAPr/AAACAAYAAAAIAPv/AAACAAIAAAAIAPz/AAACAAIAAAAIAP3/AAAKAAIAAAAIAP7/AAABAAIAAAAIAP//AAABAAIAAAAIAAAAAAABAAIAAAAIAAEAAAABAAIAAAAIAAIAAAABAAIAAAAIAAMAAAABAAIAAAAIAAQAAAABAAIAAAAIAAUAAAAOAAAAAAAIAAYAAAABAAIAAAAIAAcAAAABAAIAAAAIAAgAAAABAAIAAAAIAAkAAAABAAIAAAAIAAoAAAABAAIAAAAIAAsAAAABAAIAAAAIAAwAAAABAAIAAAAIAA0AAAAOAAAAAAAIAA4AAAABAAIAAAAIAA8AAAABAAIAAAAIABAAAAABAAIAAAAIABEAAAABAAIAAAAIABIAAAABAAIAAAAIABMAAAABAAIAAAAIABQAAAABAAIAAAAIABUAAAAOAAAAAAAIABYAAAABAAIAAAAIABcAAAABAAIAAAAIABgAAAABAAIAAAAIABkAAAAOAAgAAAAJAPr/AAACAAYAAAAJAPv/AAACAAIAAAAJAPz/AAACAAIAAAAJAP3/AAACAAIAAAAJAP7/AAACAAIAAAAJAP//AAACAAIAAAAJAAAAAAACAAIAAAAJAAEAAAACAAIAAAAJAAIAAAACAAIAAAAJAAMAAAACAAIAAAAJAAQAAAACAAIAAAAJAAUAAAACAAIAAAAJAAYAAAACAAIAAAAJAAcAAAACAAIAAAAJAAgAAAACAAIAAAAJAAkAAAACAAIAAAAJAAoAAAACAAIAAAAJAAsAAAACAAIAAAAJAAwAAAACAAIAAAAJAA0AAAACAAIAAAAJAA4AAAACAAIAAAAJAA8AAAACAAIAAAAJABAAAAACAAIAAAAJABEAAAACAAIAAAAJABIAAAACAAIAAAAJABMAAAACAAIAAAAJABQAAAACAAIAAAAJABUAAAACAAIAAAAJABYAAAACAAIAAAAJABcAAAACAAIAAAAJABgAAAACAAIAAAAJABkAAAACAAMAAAAKAPr/AAACAAYAAAAKAPv/AAACAAIAAAAKAPz/AAACAAIAAAAKAP3/AAACAAIAAAAKAP7/AAACAAIAAAAKAP//AAACAAIAAAAKAAAAAAACAAIAAAAKAAEAAAACAAIAAAAKAAIAAAACAAIAAAAKAAMAAAACAAIAAAAKAAQAAAACAAIAAAAKAAUAAAACAAIAAAAKAAYAAAACAAIAAAAKAAcAAAACAAIAAAAKAAgAAAACAAIAAAAKAAkAAAACAAIAAAAKAAoAAAACAAIAAAAKAAsAAAACAAIAAAAKAAwAAAACAAIAAAAKAA0AAAACAAIAAAAKAA4AAAACAAIAAAAKAA8AAAACAAIAAAAKABAAAAACAAIAAAAKABEAAAACAAIAAAAKABIAAAACAAIAAAAKABMAAAACAAIAAAAKABQAAAACAAIAAAAKABUAAAACAAIAAAAKABYAAAACAAIAAAAKABcAAAACAAIAAAAKABgAAAACAAIAAAAKABkAAAACAAMAAAALAPr/AAADAAYAAAALAPv/AAADAAIAAAALAPz/AAADAAIAAAALAP3/AAADAAIAAAALAP7/AAADAAIAAAALAP//AAADAAIAAAALAAAAAAADAAIAAAALAAEAAAADAAIAAAALAAIAAAADAAIAAAALAAMAAAADAAIAAAALAAQAAAADAAIAAAALAAUAAAADAAIAAAALAAYAAAADAAIAAAALAAcAAAADAAIAAAALAAgAAAADAAIAAAALAAkAAAADAAIAAAALAAoAAAADAAIAAAALAAsAAAADAAIAAAALAAwAAAADAAIAAAALAA0AAAADAAIAAAALAA4AAAADAAIAAAALAA8AAAADAAIAAAALABAAAAADAAIAAAALABEAAAADAAIAAAALABIAAAADAAIAAAALABMAAAADAAIAAAALABQAAAADAAIAAAALABUAAAADAAIAAAALABYAAAADAAIAAAALABcAAAADAAIAAAALABgAAAADAAIAAAALABkAAAADAAMAAAA=")
tile_set = ExtResource("5_i0hik")

[node name="one way" type="TileMapLayer" parent="TileMap" groups=["Terrain"]]
material = ExtResource("4_fedmr")
use_parent_material = true
tile_set = ExtResource("6_7p6ou")
script = ExtResource("7_dexni")

[node name="spikes" type="TileMapLayer" parent="TileMap" groups=["Pogo", "Spikes"]]
tile_map_data = PackedByteArray("AAD1/wIAAAAAAAUAAAD1/wMAAAADAAIAAAD1/wQAAAADAAIAAAD1/wUAAAADAAIAAAD1/wYAAAADAAIAAAD1/wcAAAADAAIAAAD1/wgAAAAAAAYAAAD1/woAAAAAAAUAAAD1/wsAAAADAAIAAAD1/wwAAAADAAIAAAD1/w0AAAADAAIAAAD1/w4AAAADAAIAAAD1/w8AAAADAAIAAAD1/xAAAAAAAAYAAAD1/xIAAAAAAAUAAAD1/xMAAAADAAIAAAD1/xQAAAADAAIAAAD1/xUAAAADAAIAAAD1/xYAAAADAAIAAAD1/xcAAAADAAIAAAD1/xgAAAAAAAYAAAAHAP7/AAACAAUAAAAHAP//AAAAAAIAAAAHAAAAAAAAAAIAAAAHAAEAAAAAAAIAAAAHAAIAAAAAAAIAAAAHAAMAAAAAAAIAAAAHAAQAAAACAAYAAAAHAAYAAAACAAUAAAAHAAcAAAAAAAIAAAAHAAgAAAAAAAIAAAAHAAkAAAAAAAIAAAAHAAoAAAAAAAIAAAAHAAsAAAAAAAIAAAAHAAwAAAACAAYAAAAHAA4AAAACAAUAAAAHAA8AAAAAAAIAAAAHABAAAAAAAAIAAAAHABEAAAAAAAIAAAAHABIAAAAAAAIAAAAHABMAAAAAAAIAAAAHABQAAAACAAYAAAA=")
tile_set = ExtResource("8_oex3a")

[node name="ClampCamera" type="Area2D" parent="TileMap"]
collision_layer = 16384
collision_mask = 0
input_pickable = false
monitoring = false
metadata/_edit_group_ = true
metadata/_edit_lock_ = true

[node name="ViewBox" type="CollisionPolygon2D" parent="TileMap/ClampCamera"]
position = Vector2(-26, 2)
build_mode = 1
polygon = PackedVector2Array(-502, -159, -502, 826, 378, 829, 378, -155)

[node name="Player" parent="." instance=ExtResource("10_jv2qi")]
max_hp = 5.0

[node name="CameraFollow" parent="Player" instance=ExtResource("11_vpe77")]

[node name="Doorway" parent="." instance=ExtResource("12_d02ny")]
position = Vector2(208, 775)

[node name="PauseMenu" parent="." instance=ExtResource("13_hlc4a")]
layer = 2
visible = false

[node name="Panel" parent="PauseMenu" index="0"]
material = SubResource("ShaderMaterial_yxn5e")

[node name="ComponentCreator" parent="PauseMenu/Panel/PanelContainer" index="0"]
script = ExtResource("13_3sxk4")

[node name="DeathMenu" parent="." instance=ExtResource("16_5co1d")]
unique_name_in_owner = true
layer = 2
visible = false

[node name="WinMenu" parent="." instance=ExtResource("17_74ioq")]
layer = 2

[node name="UILayer" type="CanvasLayer" parent="."]

[node name="HpBarUI" parent="UILayer" instance=ExtResource("18_r15pl")]
offset_left = 55.0
offset_top = 56.0
offset_right = 183.0
offset_bottom = 96.0

[node name="Control" type="Control" parent="."]
modulate = Color(0.101961, 0.137255, 0.494118, 1)
layout_mode = 3
anchors_preset = 0
offset_left = -614.0
offset_top = -354.0
offset_right = 588.0
offset_bottom = 348.0
theme = ExtResource("19_yj6v2")

[node name="Panel" type="Panel" parent="Control"]
z_index = -1
material = ExtResource("20_6edl4")
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = -1015.0
offset_top = -931.0
offset_right = -2011.0
offset_bottom = -1558.0
grow_horizontal = 2
grow_vertical = 2
scale = Vector2(18.5862, 39.99)
mouse_filter = 2

[node name="Label" type="Label" parent="Control"]
z_index = -2
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -58.0
offset_top = -149.0
offset_right = 58.0
offset_bottom = -84.0
grow_horizontal = 2
grow_vertical = 2
text = "label"
horizontal_alignment = 1

[connection signal="camera_ready" from="Player/CameraFollow" to="Player" method="_on_camera_follow_camera_ready"]

[editable path="RespawnSystem"]
[editable path="PauseMenu"]
