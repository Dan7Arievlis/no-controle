[gd_scene load_steps=21 format=4 uid="uid://e4q2h48a2mqf"]

[ext_resource type="Script" path="res://scripts/levels/Level.gd" id="1_5etyu"]
[ext_resource type="PackedScene" uid="uid://d5cyy80deyjo" path="res://scenes/levels/components/respawn_system.tscn" id="2_aaq4k"]
[ext_resource type="Material" uid="uid://nr1aonkdhljc" path="res://materials/color_change_material.tres" id="4_uy47r"]
[ext_resource type="TileSet" uid="uid://chlp3otlj0044" path="res://resources/tilesets/base_tile_set.tres" id="5_yitso"]
[ext_resource type="TileSet" uid="uid://3ls8bo8my2y1" path="res://resources/tilesets/one_way_platforms_tile_set.tres" id="6_45n6d"]
[ext_resource type="Script" path="res://scripts/levels/components/OneWayPlatformsSpawner.gd" id="7_41762"]
[ext_resource type="PackedScene" uid="uid://cyk5knnwmfotp" path="res://scenes/levels/components/closed_door.tscn" id="8_3153u"]
[ext_resource type="TileSet" uid="uid://b3sxykajd0y5s" path="res://resources/tilesets/spikes_tile_set.tres" id="8_oxdlk"]
[ext_resource type="PackedScene" uid="uid://dldwdaspvcq0w" path="res://scenes/entities/player.tscn" id="13_x20yn"]
[ext_resource type="Script" path="res://scenes/levels/attack/attack_1/Attack_1_menu.gd" id="13_ynbgh"]
[ext_resource type="PackedScene" uid="uid://bd1jkgc6dl7v8" path="res://scenes/levels/components/camera_follow.tscn" id="14_5ae11"]
[ext_resource type="PackedScene" uid="uid://cfdmv3tit4bya" path="res://scenes/levels/components/doorway.tscn" id="15_8wr1g"]
[ext_resource type="PackedScene" uid="uid://di32xxa2m60xl" path="res://scenes/menus/pause_menu.tscn" id="16_ob7on"]
[ext_resource type="Shader" path="res://materials/shaders/pause_menu.gdshader" id="17_4xoq2"]
[ext_resource type="PackedScene" uid="uid://nxiywfl7pggr" path="res://scenes/menus/death_menu.tscn" id="19_m4567"]
[ext_resource type="PackedScene" uid="uid://go2uyf33ilo7" path="res://scenes/menus/win_menu.tscn" id="20_2yti0"]
[ext_resource type="PackedScene" uid="uid://cqdv1w1qdiu6k" path="res://scenes/components/hp_bar_ui.tscn" id="21_fd7bd"]
[ext_resource type="Theme" uid="uid://ckhww1aw5ghp1" path="res://themes/font_theme_16px.tres" id="22_w5slw"]
[ext_resource type="Material" uid="uid://ihjnwe4fo1dg" path="res://materials/color_change_filter.tres" id="23_tl5js"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_yxn5e"]
resource_local_to_scene = true
shader = ExtResource("17_4xoq2")
shader_parameter/overlay = Color(0, 0.115, 0.69, 1)

[node name="LevelWall1" type="Node2D"]
script = ExtResource("1_5etyu")

[node name="Camera2D" type="Camera2D" parent="."]
position = Vector2(1, -5)
zoom = Vector2(4, 4)
metadata/_edit_group_ = true
metadata/_edit_lock_ = true

[node name="ColorRect" type="ColorRect" parent="Camera2D"]
z_index = -3
offset_left = -576.0
offset_top = -324.0
offset_right = 576.0
offset_bottom = 325.0

[node name="RespawnSystem" parent="." instance=ExtResource("2_aaq4k")]

[node name="InitialSpawn" parent="RespawnSystem" index="0"]
position = Vector2(-205, 151)

[node name="TileMap" type="Node2D" parent="."]
material = ExtResource("4_uy47r")

[node name="base" type="TileMapLayer" parent="TileMap" groups=["Terrain"]]
use_parent_material = true
tile_map_data = PackedByteArray("AADx/wUAAAACAAAAAADx/wYAAAACAAIAAADx/wcAAAACAAIAAADx/wgAAAACAAIAAADx/wkAAAACAAIAAADx/woAAAACAAIAAADy/wUAAAACAAAAAADy/wYAAAACAAIAAADy/wcAAAACAAIAAADy/wgAAAACAAIAAADy/wkAAAACAAIAAADy/woAAAACAAIAAADz/wUAAAACAAAAAADz/wYAAAACAAIAAADz/wcAAAACAAIAAADz/wgAAAACAAIAAADz/wkAAAACAAIAAADz/woAAAACAAIAAAD0/wUAAAACAAAAAAD0/wYAAAACAAIAAAD0/wcAAAACAAIAAAD0/wgAAAACAAIAAAD0/wkAAAACAAIAAAD0/woAAAACAAIAAAD1/wUAAAACAAAAAAD1/wYAAAACAAIAAAD1/wcAAAACAAIAAAD1/wgAAAACAAIAAAD1/wkAAAACAAIAAAD1/woAAAACAAIAAAD2/wUAAAACAAAAAAD2/wYAAAACAAIAAAD2/wcAAAACAAIAAAD2/wgAAAACAAIAAAD2/wkAAAACAAIAAAD2/woAAAACAAIAAAD3/wUAAAACAAAAAAD3/wYAAAACAAIAAAD3/wcAAAACAAIAAAD3/wgAAAACAAIAAAD3/wkAAAACAAIAAAD3/woAAAACAAIAAAD4/wUAAAACAAAAAAD4/wYAAAACAAIAAAD4/wcAAAACAAIAAAD4/wgAAAACAAIAAAD4/wkAAAACAAIAAAD4/woAAAACAAIAAAD5/wUAAAACAAIAAAD5/wYAAAACAAIAAAD5/wcAAAACAAIAAAD5/wgAAAACAAIAAAD5/wkAAAACAAIAAAD5/woAAAACAAIAAAD6/wUAAAACAAIAAAD6/wYAAAACAAIAAAD6/wcAAAACAAIAAAD6/wgAAAACAAIAAAD6/wkAAAACAAIAAAD6/woAAAACAAIAAAD7/wUAAAACAAIAAAD7/wYAAAACAAIAAAD7/wcAAAACAAIAAAD7/wgAAAACAAIAAAD7/wkAAAACAAIAAAD7/woAAAACAAIAAAD8/wUAAAACAAIAAAD8/wYAAAACAAIAAAD8/wcAAAACAAIAAAD8/wgAAAACAAIAAAD8/wkAAAACAAIAAAD8/woAAAACAAIAAAD9/wUAAAACAAIAAAD9/wYAAAACAAIAAAD9/wcAAAACAAIAAAD9/wgAAAACAAIAAAD9/wkAAAACAAIAAAD9/woAAAACAAIAAAD+/wUAAAACAAIAAAD+/wYAAAACAAIAAAD+/wcAAAACAAIAAAD+/wgAAAACAAIAAAD+/wkAAAACAAIAAAD+/woAAAACAAIAAAD//wUAAAACAAIAAAD//wYAAAACAAIAAAD//wcAAAACAAIAAAD//wgAAAACAAIAAAD//wkAAAACAAIAAAD//woAAAACAAIAAAAAAAUAAAACAAIAAAAAAAYAAAACAAIAAAAAAAcAAAACAAIAAAAAAAgAAAACAAIAAAAAAAkAAAACAAIAAAAAAAoAAAACAAIAAAABAAUAAAACAAIAAAABAAYAAAACAAIAAAABAAcAAAACAAIAAAABAAgAAAACAAIAAAABAAkAAAACAAIAAAABAAoAAAACAAIAAAACAAUAAAACAAIAAAACAAYAAAACAAIAAAACAAcAAAACAAIAAAACAAgAAAACAAIAAAACAAkAAAACAAIAAAACAAoAAAACAAIAAADs//3/AAACAAIAAADs//7/AAACAAIAAADs////AAACAAIAAADs/wAAAAACAAIAAADs/wEAAAACAAIAAADs/wIAAAACAAIAAADs/wMAAAACAAIAAADs/wQAAAACAAIAAADs/wUAAAACAAIAAADs/wYAAAACAAIAAADs/wcAAAACAAIAAADs/wgAAAACAAIAAADs/wkAAAACAAIAAADs/woAAAACAAIAAADt//3/AAACAAIAAADt//7/AAACAAIAAADt////AAACAAIAAADt/wAAAAACAAIAAADt/wEAAAACAAIAAADt/wIAAAACAAIAAADt/wMAAAACAAIAAADt/wQAAAACAAIAAADt/wUAAAACAAIAAADt/wYAAAACAAIAAADt/wcAAAACAAIAAADt/wgAAAACAAIAAADt/wkAAAACAAIAAADt/woAAAACAAIAAADu//3/AAACAAIAAADu//7/AAACAAIAAADu////AAACAAIAAADu/wAAAAACAAIAAADu/wEAAAACAAIAAADu/wIAAAACAAIAAADu/wMAAAACAAIAAADu/wQAAAACAAIAAADu/wUAAAACAAIAAADu/wYAAAACAAIAAADu/wcAAAACAAIAAADu/wgAAAACAAIAAADu/wkAAAACAAIAAADu/woAAAACAAIAAADv//3/AAACAAIAAADv//7/AAACAAIAAADv////AAACAAIAAADv/wAAAAACAAIAAADv/wEAAAACAAIAAADv/wIAAAACAAIAAADv/wMAAAACAAIAAADv/wQAAAACAAIAAADv/wUAAAACAAIAAADv/wYAAAACAAIAAADv/wcAAAACAAIAAADv/wgAAAACAAIAAADv/wkAAAACAAIAAADv/woAAAACAAIAAADw//3/AAACAAIAAADw//7/AAACAAIAAADw////AAACAAIAAADw/wAAAAACAAIAAADw/wEAAAACAAIAAADw/wIAAAACAAIAAADw/wMAAAACAAIAAADw/wQAAAACAAIAAADw/wUAAAAIAAAAAADw/wYAAAACAAIAAADw/wcAAAACAAIAAADw/wgAAAACAAIAAADw/wkAAAACAAIAAADw/woAAAACAAIAAADw//z/AAACAAIAAADx//z/AAACAAIAAADx//3/AAACAAIAAADx//7/AAACAAIAAADx////AAACAAIAAADy//z/AAACAAIAAADy//3/AAACAAIAAADy//7/AAACAAIAAADy////AAACAAIAAADz//z/AAACAAIAAADz//3/AAACAAIAAADz//7/AAACAAIAAADz////AAACAAIAAAD0//z/AAACAAIAAAD0//3/AAACAAIAAAD0//7/AAACAAIAAAD0////AAACAAIAAAD1//z/AAACAAIAAAD1//3/AAACAAIAAAD1//7/AAACAAIAAAD1////AAACAAIAAAD2//z/AAACAAIAAAD2//3/AAACAAIAAAD2//7/AAACAAIAAAD2////AAACAAIAAADt//z/AAACAAIAAADu//z/AAACAAIAAADs//z/AAACAAIAAADv//z/AAACAAIAAAD2/wAAAAACAAIAAAD2/wEAAAACAAIAAAD2/wIAAAACAAIAAAA=")
tile_set = ExtResource("5_yitso")

[node name="one way" type="TileMapLayer" parent="TileMap" groups=["Terrain"]]
material = ExtResource("4_uy47r")
use_parent_material = true
tile_set = ExtResource("6_45n6d")
script = ExtResource("7_41762")

[node name="spikes" type="TileMapLayer" parent="TileMap" groups=["Pogo", "Spikes"]]
tile_set = ExtResource("8_oxdlk")

[node name="ClampCamera" type="Area2D" parent="TileMap"]
collision_layer = 16384
collision_mask = 0
input_pickable = false
monitoring = false
metadata/_edit_group_ = true
metadata/_edit_lock_ = true

[node name="ViewBox" type="CollisionPolygon2D" parent="TileMap/ClampCamera"]
position = Vector2(-26, 2)
build_mode = 1

[node name="Enemies" type="Node2D" parent="TileMap"]

[node name="ClosedDoor" parent="TileMap" instance=ExtResource("8_3153u")]
position = Vector2(-304, 127)

[node name="Player" parent="." instance=ExtResource("13_x20yn")]
max_hp = 10.0

[node name="CameraFollow" parent="Player" instance=ExtResource("14_5ae11")]

[node name="Doorway" parent="." instance=ExtResource("15_8wr1g")]
z_index = 1
position = Vector2(-404, 135)

[node name="PauseMenu" parent="." instance=ExtResource("16_ob7on")]
layer = 2
visible = false

[node name="Panel" parent="PauseMenu" index="0"]
material = SubResource("ShaderMaterial_yxn5e")

[node name="ComponentCreator" parent="PauseMenu/Panel/PanelContainer" index="0"]
script = ExtResource("13_ynbgh")

[node name="DeathMenu" parent="." instance=ExtResource("19_m4567")]
unique_name_in_owner = true
layer = 2
visible = false

[node name="WinMenu" parent="." instance=ExtResource("20_2yti0")]
layer = 2
visible = false

[node name="UILayer" type="CanvasLayer" parent="."]
visible = false

[node name="HpBarUI" parent="UILayer" instance=ExtResource("21_fd7bd")]
offset_left = 55.0
offset_top = 56.0
offset_right = 183.0
offset_bottom = 96.0

[node name="Control" type="Control" parent="."]
modulate = Color(0.101961, 0.137255, 0.494118, 1)
layout_mode = 3
anchors_preset = 0
offset_left = -614.0
offset_top = -354.0
offset_right = 588.0
offset_bottom = 348.0
theme = ExtResource("22_w5slw")

[node name="Panel" type="Panel" parent="Control"]
z_index = -1
material = ExtResource("23_tl5js")
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = -1077.0
offset_top = -844.0
offset_right = -2073.0
offset_bottom = -1471.0
grow_horizontal = 2
grow_vertical = 2
scale = Vector2(18.5862, 39.99)
mouse_filter = 2

[node name="Label" type="Label" parent="Control"]
z_index = -2
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -58.0
offset_top = -32.5
offset_right = 58.0
offset_bottom = 32.5
grow_horizontal = 2
grow_vertical = 2
text = "label"
horizontal_alignment = 1

[connection signal="camera_ready" from="Player/CameraFollow" to="Player" method="_on_camera_follow_camera_ready"]

[editable path="RespawnSystem"]
[editable path="PauseMenu"]
